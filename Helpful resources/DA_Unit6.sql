USE PA_Unit_7;

/* Create SPECIALTY table */
CREATE TABLE SPECIALTY(
Specialty_Num CHAR(10) NOT NULL,
NAME VARCHAR(30),
CONSTRAINT PK_SPLTY_N PRIMARY KEY (Specialty_Num),
CONSTRAINT UQ_SPLTY_N UNIQUE (Specialty_Num)
);

/* Populating the SPECIALTY table */
INSERT INTO SPECIALTY VALUES ('S1','Dermatology');
INSERT INTO SPECIALTY VALUES ('S2','Psychiatry');
INSERT INTO SPECIALTY VALUES ('S3','Oncology');
INSERT INTO SPECIALTY VALUES ('S4','Cardiology');
INSERT INTO SPECIALTY VALUES ('S5','Urology');
INSERT INTO SPECIALTY VALUES ('S6','Pediatrics');


/* Create DOCTOR table */
CREATE TABLE DOCTOR(
Doctor_ID CHAR(10) NOT NULL,
Name VARCHAR(30) NOT NULL,
Phone CHAR(25) NOT NULL,
Specialty_Num CHAR(10) NOT NULL,
Supervisor_ID CHAR(10) NOT NULL,
CONSTRAINT PK_DR PRIMARY KEY (Doctor_ID),
CONSTRAINT UQ_DR UNIQUE (Doctor_ID),
CONSTRAINT FK_SPLTY FOREIGN KEY (Specialty_Num)
REFERENCES SPECIALTY(Specialty_Num)
);

/* Populating the DOCTOR table */
INSERT INTO DOCTOR VALUES ('D1','Doctor	Karen','555-1212','S6','');
INSERT INTO DOCTOR VALUES ('D2','Doctor John','555-2934','S2','D1');
INSERT INTO DOCTOR VALUES ('D3','Doctor Robert','555-6723','S6','D1');
INSERT INTO DOCTOR VALUES ('D4','Doctor David','555-1745','S4','D1');
INSERT INTO DOCTOR VALUES ('D5','Doctor Mary','555-6565','S5','D1');
INSERT INTO DOCTOR VALUES ('D6','Doctor Linda','555-4889','S1','D1');
INSERT INTO DOCTOR VALUES ('D7','Doctor Susan','555-4581','S3','D1');
INSERT INTO DOCTOR VALUES ('D8','Doctor Zeynep','555-7891','S4','D1');
INSERT INTO DOCTOR VALUES ('D9','Doctor Mat','555-7791','S1','D1');


/* Create PATIENT table */
CREATE TABLE PATIENT(
Patient_ID CHAR(10) NOT NULL,
Name VARCHAR(30) NOT NULL,
Phone CHAR(25) NOT NULL,
Email CHAR(50),
Address CHAR(120) NOT NULL,
Added_Date DATE NOT NULL,
Doctor_ID CHAR(10) NOT NULL,
CONSTRAINT PK_PATNT PRIMARY KEY (Patient_ID),
CONSTRAINT UQ_PATNT UNIQUE (Patient_ID),
CONSTRAINT FK_D FOREIGN KEY (Doctor_ID) REFERENCES DOCTOR(Doctor_ID)
); 

/* Populating the PATIENT table */
INSERT INTO PATIENT VALUES ('P1','Patient Dana','444-1212','P1@email.com','123 Home St.','2019-2-1','D2');
INSERT INTO PATIENT VALUES ('P2','Patient Harry','444-2934','P2@email.com','3435 Main St.','2011-7-13','D7');
INSERT INTO PATIENT VALUES ('P3','Patient Karl','444-6723','P3@email.com','2176 Baker St.','2009-5-10','D6');
INSERT INTO PATIENT VALUES ('P4','Patient Sid','444-1745','P4@email.com','176 Right St.','2010-6-20','D2');
INSERT INTO PATIENT VALUES ('P5','Patient Marry','444-6565','P5@email.com','435 Main St.','2014-5-18','D8');
INSERT INTO PATIENT VALUES ('P6','Patient Kim','444-4889','P6@email.com','34 Home St.','2018-3-15','D6');
INSERT INTO PATIENT VALUES ('P7','Patient Susan','444-4581','P7@email.com','65 Water St.','2011-9-7','D4');
INSERT INTO PATIENT VALUES ('P8','Patient Sam','444-7891','P8@email.com','23 Hill Drive','2010-11-23','D3');
INSERT INTO PATIENT VALUES ('P9','Patient Peter','444-7791','P9@email.com','12 River St.','2008-2-1','D5');
INSERT INTO PATIENT VALUES ('P10','Patien Nick','123-1212','P10@email.com','335 Bay St.','2011-7-13','D7');
INSERT INTO PATIENT VALUES ('P11','Patient Kyle','123-2934','P11@email.com','216 Baker St.','2016-5-10','D9');
INSERT INTO PATIENT VALUES ('P12','Patient	Garcia','123-6723','P12@email.com','176	Right St.','2010-6-20','D9');
INSERT INTO PATIENT VALUES ('P13','Patient	Alicia','123-1745','P13@email.com','823	Left St.','2015-5-18','D4');
INSERT INTO PATIENT VALUES ('P14','Patient	Dan','123-6565','P14@email.com','534 High St.','2018-3-15','D4');


/* Create ALLERGY table */
CREATE TABLE ALLERGY(
Allergy_ID CHAR(10) NOT NULL,
Name VARCHAR(35) NOT NULL,
CONSTRAINT PK_A PRIMARY KEY (Allergy_ID),
CONSTRAINT UQ_A UNIQUE (Allergy_ID)
);

/* Populating the ALLERGY table */
INSERT INTO ALLERGY VALUES ('AL1','Drug');
INSERT INTO ALLERGY VALUES ('AL2','Food');
INSERT INTO ALLERGY VALUES ('AL3','Skin');
INSERT INTO ALLERGY VALUES ('AL4','Asthma');
INSERT INTO ALLERGY VALUES ('AL5','Rhinitis');


/* Create PATIENT_ALLERGY table */
CREATE TABLE PATIENT_ALLERGY(
Allergy_ID CHAR(10) NOT NULL,
Patient_ID CHAR(10) NOT NULL,
CONSTRAINT PK_A_PATNT PRIMARY KEY (Allergy_ID, Patient_ID),
CONSTRAINT UQ_A_PATNT UNIQUE (Allergy_ID, Patient_ID),
CONSTRAINT FK_A FOREIGN KEY (Allergy_ID) REFERENCES ALLERGY(Allergy_ID),
CONSTRAINT FK_PATNT FOREIGN KEY (Patient_ID) REFERENCES PATIENT(Patient_ID)
);

/* Populating the PATIENT_ALLERGY table */
INSERT INTO PATIENT_ALLERGY VALUES ('AL4','P1');
INSERT INTO PATIENT_ALLERGY VALUES ('AL2','P13');
INSERT INTO PATIENT_ALLERGY VALUES ('AL3','P11');
INSERT INTO PATIENT_ALLERGY VALUES ('AL4','P7');
INSERT INTO PATIENT_ALLERGY VALUES ('AL5','P9');
INSERT INTO PATIENT_ALLERGY VALUES ('AL1','P3');


/* Create APPOINTMENT table */
CREATE TABLE APPOINTMENT(
Appointment_ID CHAR(10) NOT NULL,
Patient_ID CHAR(10) NOT NULL,
Doctor_ID CHAR(10) NOT NULL,
Appointment_Date DATE NOT NULL,
Blood_Pressure INT NOT NULL,
Weight DECIMAL(5, 2) NOT NULL,
Treatment_Notes CHAR(230) NOT NULL,
CONSTRAINT PK_APP PRIMARY KEY (Appointment_ID),
CONSTRAINT UQ_APP UNIQUE (Appointment_ID),
CONSTRAINT FK_D_APP FOREIGN KEY (Doctor_ID) REFERENCES DOCTOR(Doctor_ID),
CONSTRAINT FK_PATNT_APP FOREIGN KEY (Patient_ID) REFERENCES PATIENT(Patient_ID)
);

/* Populating the APPOINTMENT table */
INSERT INTO APPOINTMENT VALUES ('A1','P1','D2','2019-7-1','80','65','Dream	to success');
INSERT INTO APPOINTMENT VALUES ('A2','P13','D4','2019-1-4','77','88','Good	heart rate');
INSERT INTO APPOINTMENT VALUES ('A3','P11','D9','2019-3-22','82','95','Many spots');
INSERT INTO APPOINTMENT VALUES ('A4','P7','D4','2020-2-1','85','74','Fast heart rate');
INSERT INTO APPOINTMENT VALUES ('A5','P9','D5','2019-4-13','75','56','Reports checked');
INSERT INTO APPOINTMENT VALUES ('A6','P3','D6','2019-11-12','81','96','Sun	light spots');
INSERT INTO APPOINTMENT VALUES ('A7','P10','D7','2020-1-29','80','87','Early treatment');
INSERT INTO APPOINTMENT VALUES ('A8','P9','D5','2019-8-12','86','92','Much	better');
INSERT INTO APPOINTMENT VALUES ('A9','P14','D4','2019-5-18','75','75','Good heart rate');
INSERT INTO APPOINTMENT VALUES ('A10','P8','D3','2019-11-18','76','79','New teeth');
INSERT INTO APPOINTMENT VALUES ('A11','P11','D9','2019-6-22','78','71','Much better');
INSERT INTO APPOINTMENT VALUES ('A12','P2','D7','2020-2-21','82','86','Early treatment');
INSERT INTO APPOINTMENT VALUES ('A13','P4','D2','2019-8-17','81','101','Bad dreams');
INSERT INTO APPOINTMENT VALUES ('A14','P6','D6','2019-6-27','79','49','Sun	light spots');
INSERT INTO APPOINTMENT VALUES ('A15','P10','D7','2020-7-29','80','83','Early treatment');
INSERT INTO APPOINTMENT VALUES ('A16','P7','D4','2020-8-1','78','79','Good	heart rate');


/* Create MEDICINE table */
CREATE TABLE MEDICINE(
Medicine_ID CHAR(10) NOT NULL,
Name VARCHAR (50) NOT NULL,
CONSTRAINT PK_M PRIMARY KEY (Medicine_ID),
CONSTRAINT UQ_M UNIQUE (Medicine_ID)
);

/* Populating the MEDICINE table */
INSERT INTO MEDICINE VALUES ('M1','Ativan');
INSERT INTO MEDICINE VALUES ('M2','Ibuprofen');
INSERT INTO MEDICINE VALUES ('M3','Omeprazole');
INSERT INTO MEDICINE VALUES ('M4','Metoprolol');
INSERT INTO MEDICINE VALUES ('M5','Azithromycin');
INSERT INTO MEDICINE VALUES ('M6','Codeine');


/* Create PATIENT_MEDICINE table */
CREATE TABLE PATIENT_MEDICINE(
Appointment_ID CHAR(10) NOT NULL,
Medicine_ID CHAR(10) NOT NULL,
CONSTRAINT PK_APP_M PRIMARY KEY (Appointment_ID, Medicine_ID),
CONSTRAINT UQ_APP_M UNIQUE (Appointment_ID, Medicine_ID),
CONSTRAINT FK_APP FOREIGN KEY (Appointment_ID) REFERENCES APPOINTMENT(Appointment_ID),
CONSTRAINT FK_M FOREIGN KEY (Medicine_ID) REFERENCES MEDICINE(Medicine_ID)
);

/* Populating the PATIENT_MEDICINE table */
INSERT INTO PATIENT_MEDICINE VALUES ('A15','M1');
INSERT INTO PATIENT_MEDICINE VALUES ('A2','M6');
INSERT INTO PATIENT_MEDICINE VALUES ('A8','M3');
INSERT INTO PATIENT_MEDICINE VALUES ('A6','M3');
INSERT INTO PATIENT_MEDICINE VALUES ('A15','M2');
INSERT INTO PATIENT_MEDICINE VALUES ('A10','M6');
INSERT INTO PATIENT_MEDICINE VALUES ('A10','M2');
INSERT INTO PATIENT_MEDICINE VALUES ('A4','M5');
INSERT INTO PATIENT_MEDICINE VALUES ('A3','M5');
INSERT INTO PATIENT_MEDICINE VALUES ('A1','M2');
